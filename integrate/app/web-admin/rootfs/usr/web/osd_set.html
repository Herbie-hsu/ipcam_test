<script language="JavaScript">
function callColorDlg(sInitColor)
{
	if (sInitColor == null) 
		var sColor = dlgHelper.ChooseColorDlg();
	else 
		var sColor = dlgHelper.ChooseColorDlg(sInitColor);
	sColor = sColor.toString(16);
	if (sColor.length < 6) {
		var sTempString = "000000".substring(0, 6 - sColor.length);
		sColor = sTempString.concat(sColor);
	}
	sColor = "#".concat(sColor).toUpperCase();
	return sColor;
}
function txt_color(initcolor)
{
	var ret  =  callColorDlg(initcolor);
	document.getElementById('txt_color').style.backgroundColor=ret;
}
function bg_color(initcolor)
{
	var ret  =  callColorDlg(initcolor);
	document.getElementById('bg_color').style.backgroundColor=ret;
}
function location_init(x_min,x_max,y_min,y_max)
{
	document.getElementById('startx_min').innerText=x_min;
	document.getElementById('starty_min').innerText=y_min;
	document.getElementById('startx_max').innerText=x_max;
	document.getElementById('starty_max').innerText=y_max;	
}
function saveOsd()
{
	var cmdurl;
	var enable=document.getElementById("enable");
	var text=document.getElementById("text");
	var timestamp=document.getElementById("timestamp");
	var txt_color=document.getElementById('txt_color').style.backgroundColor;
	var bg_color=document.getElementById('bg_color').style.backgroundColor;
	var txt_transp=document.getElementById("txt_transp");
	var bg_transp=document.getElementById("bg_transp");
	var gain=document.getElementById('gain');
	var startX=document.getElementById('startX');
	var startY=document.getElementById('startY');
	var location=document.getElementById('location');

	if(parseInt(gain.value)<1 || parseInt(gain.value)>8 || isNaN(parseInt(gain.value)) || isNaN(parseInt(startX.value)) || isNaN(parseInt(startY.value)) || parseInt(startX.value)<0 || parseInt(startY.value)<0 )
	{
		alert("The input is not valid!");
		return 0;
	}
	cmdurl="/cgi-bin/osd_setting.cgi?op=action"+"&type="+"osd"+"&enable="+enable.checked+"&text="+text.value+"&timestamp="+timestamp.checked+"&txt_color="+"0x"+txt_color.substring(1,txt_color.length)+"&bg_color="+"0x"+bg_color.substring(1,bg_color.length)+"&txt_transp="+txt_transp.checked+"&bg_transp="+bg_transp.checked+"&osd_gain="+gain.value+"&startX="+startX.value+"&startY="+startY.value+"&location="+location.value+"&time="+new Date().toString();
	//alert(cmdurl);
	document.getElementById("hiddenframe_image").src = cmdurl;
}

</script>
<HTML><HEAD>	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8"><TITLE></TITLE>
<META HTTP-EQUIV="Expires" CONTENT="now"><META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<SCRIPT SRC="/include/help.js"></SCRIPT>
<script language="javascript" src="/include/VLCobject.js"> </script>
<script language="javascript" src="/include/VLCcontrols.js"> </script>
</HEAD><LINK href="/nb.css" rel=stylesheet type=text/css></HEAD>
<BODY onload=osd_init()><CENTER>
	<TABLE border=0 cellPadding=0 cellSpacing=0 width=502><TBODY>
		<TR><TD align=left class=title vAlign=center width=495><script>dw(OS_TITLE)</script></TD></TR>
		<TR><TD colSpan=2>
			<TABLE border=0 cellPadding=0 cellSpacing=0  width=502><TBODY>
				<TR><TD class=vline rowSpan=15><BR></TD><TD width=500>
				<TABLE align=center id="preview_table" name="preview_table" border="0" align="center" cellpadding="" cellspacing="5">
				<tr>
					<td align="center" valign="top">
						<object codebase="/axvlc.cab#version=1,1,12,1" 
     					classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" 
     					width="320" height="240" id="mymovie">
						</object>
					</td>
				</tr>
				</TABLE>	
				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
	<tr><TD align="left" bgcolor="#cccccc" colspan=4 ><strong><script>dw(OS_ENABLE)</script>&nbsp;</strong><input type="checkbox" id="enable"></td></tr>	
	<tr>
		<td>
			<script>dw(OS_TEXT)</script>
		</td>
		<td colspan=1>
			<input type="text" id="text" name="text" maxlength="16"  style="width:90px;">
		</td>
		<td>
			<script>dw(OS_TIMESTAMP)</script>
		</td>
		<td>
			<input type="checkbox" name="timestamp">
		</td>
	</tr>
				</TABLE>
				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
	<tr>
		<td>
			<script>dw(OS_TEXTCOLOR)</script>
		</td>
		<td>
			<input type="button" id="txt_color" name="txt_color" class="button_color" value="      " onclick="txt_color(document.getElementById('txt_color').style.backgroundColor)">
		</td>
		<td>
			<script>dw(OS_TRANSP)</script>
		</td>
		<td>
			<input type="checkbox" id="txt_transp" name="txt_transp">
		</td>
	</tr>
				</TABLE>
				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
	<tr>
		<td>
			<script>dw(OS_BACKCOLOR)</script>
		</td>
		<td>
			<input type="button" id="bg_color" name="bg_color" class="button_color" value="      " onclick="bg_color(document.getElementById('bg_color').style.backgroundColor)">
		</td>
		<td>
			<script>dw(OS_TRANSP)</script>
		</td>
		<td>
			<input type="checkbox" id="bg_transp" name="bg_transp">
		</td>
	</tr>
				</TABLE>
				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
  <col align="left" width="25%"/>
	<tr>
		<td>
			<script>dw(OS_LOCATION);</script>
		</td>
		<td>
			<select id="location" name="location" style="width:80px;">
				<option id="lefttop" value="lefttop">Left Top</option>
				<option id="righttop" value="righttop">Right Top</option>
				<option id="leftbottom" value="leftbottom">Left Bottom</option>
				<option id="rightbottom" value="rightbottom">Right Bottom</option>
				<script>DI("lefttop",OS_LEFTTOP);DI("righttop",OS_RIGHTTOP);DI("leftbottom",OS_LEFTBOTTOM);DI("rightbottom",OS_RIGHTBOTTOM);</script>
			</select>		
		</td>
		<td>
			<script>dw(OS_GAIN)</script>
		</td>
		<td>
			<input type="text" id="gain" name="gain" style="width:30px">[1..8]
		</td>
	</tr>
				</TABLE>
				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="left" width="25%"/>
  <col align="left" width="40%"/>
  <col align="left" width="35%"/>
	<tr>				
		<td>
			<script>dw(OS_FINETUNE);</script>
		</td>
		<td>
			X:<input type="text" id="startX" name="startX" style="width:30px" >
			<script>dw(OS_UNITPIXES);</script> 
			[<span id="startx_min"></span>..<span id="startx_max"></span>]
		</td>
		<td>
			Y:<input type="text" style="width:30px"  id="startY" name="startY">
			<script>dw(OS_PIXES);</script> 
			[<span id="starty_min"></span>..<span id="starty_max"></span>]
		</td>
	</tr>	
				</TABLE>


				<TABLE name="osd_table" border="0" align="center" cellpadding="0" cellspacing="5"  width=400>
  <col align="center" width="50%"/>
  <col align="center" width="50%"/>
  <tr>
  <td colspan="2"><hr></td>
  </tr>
			<tr>
				<td>
					<input id="save" style="width:70px" type="button" value="Save" onclick="saveOsd()">
				<input id="reset" style="width:70px" type="button" value="Reset" onclick="page_init()">
				</td>
			</tr>
			<script>DV("save",OS_SAVE);DV("reset",OS_RESET);</script>
				</TABLE>
	<iframe id="hiddenframe_image" width="0" height="0" src=""></iframe>
	<OBJECT id="dlgHelper" CLASSID="clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b" width="0px" height="0px"></OBJECT>
				</TD><TD class=vline rowSpan=15><BR></TD></TR>
				<TR><TD class=hline></TD></TR>

			</TBODY></TABLE>

		</TD></TR>
	</TBODY></TABLE>
</CENTER></BODY>
</HTML>

